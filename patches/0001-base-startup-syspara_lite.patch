From b76bb1c5c4cf74e33ec04a8beddcd9b1d7c85a05 Mon Sep 17 00:00:00 2001
From: zhushengle <zhushengle@huawei.com>
Date: Sat, 17 Sep 2022 14:08:53 +0800
Subject: [PATCH] =?UTF-8?q?feat:=20=E6=94=AF=E6=8C=81UniProton?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: zhushengle <zhushengle@huawei.com>
Change-Id: Iabd5c28e88173247b84ec074e395092cc3b125e4
---
 frameworks/bundle.json            | 4 ++--
 frameworks/parameter/BUILD.gn     | 2 +-
 frameworks/parameter/src/BUILD.gn | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/frameworks/bundle.json b/frameworks/bundle.json
index d9c2103..c09b50f 100644
--- a/frameworks/bundle.json
+++ b/frameworks/bundle.json
@@ -28,10 +28,10 @@
             ]
         },
         "build": {
-            "sub_component": [],
+            "sub_component": [ "//base/startup/syspara_lite/frameworks/parameter:parameter_notes" ],
             "test": [
                 "//base/startup/syspara_lite/frameworks/unittest/parameter:unittest"
             ]
         }
     }
-}
\ No newline at end of file
+}
diff --git a/frameworks/parameter/BUILD.gn b/frameworks/parameter/BUILD.gn
index 3e18233..0e91416 100644
--- a/frameworks/parameter/BUILD.gn
+++ b/frameworks/parameter/BUILD.gn
@@ -16,7 +16,7 @@ import("//build/lite/config/component/lite_component.gni")
 import("//build/lite/ndk/ndk.gni")
 
 ndk_lib("parameter_notes") {
-  if (ohos_kernel_type != "liteos_m") {
+  if (ohos_kernel_type != "liteos_m" && ohos_kernel_type != "uniproton") {
     lib_extension = ".so"
   }
   if (enable_ohos_startup_init_feature_begetctl_liteos == false) {
diff --git a/frameworks/parameter/src/BUILD.gn b/frameworks/parameter/src/BUILD.gn
index 6d602a8..b25dd89 100644
--- a/frameworks/parameter/src/BUILD.gn
+++ b/frameworks/parameter/src/BUILD.gn
@@ -13,7 +13,7 @@
 import("//base/startup/init/begetd.gni")
 import("../config.gni")
 
-if (ohos_kernel_type == "liteos_m") {
+if (ohos_kernel_type == "liteos_m" || ohos_kernel_type == "uniproton") {
   static_library("sysparam") {
     if (enable_ohos_startup_init_feature_begetctl_liteos == false) {
       include_dirs = [
-- 
2.17.1

